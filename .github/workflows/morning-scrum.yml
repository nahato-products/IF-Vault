name: Morning Scrum Notification

on:
  schedule:
    # JST 10:45 = UTC 01:45ï¼ˆæœˆã€œé‡‘ã®ã¿ï¼‰
    - cron: '45 1 * * 1-5'
  workflow_dispatch: # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½

jobs:
  notify-scrum:
    runs-on: ubuntu-latest

    steps:
      - name: Notify Slack
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
        run: |
          curl -X POST "$SLACK_WEBHOOK_URL" \
            -H 'Content-Type: application/json' \
            -d '{
              "username": "ã‚¹ã‚¯ãƒ©ãƒ Bot",
              "icon_emoji": ":runner:",
              "text": "ã‚¹ã‚¯ãƒ©ãƒ é–‹å§‹ï¼ğŸ‘€",
              "blocks": [
                {
                  "type": "header",
                  "text": {
                    "type": "plain_text",
                    "text": "ã‚¹ã‚¯ãƒ©ãƒ é–‹å§‹ï¼ğŸ‘€",
                    "emoji": true
                  }
                },
                {
                  "type": "divider"
                },
                {
                  "type": "section",
                  "text": {
                    "type": "mrkdwn",
                    "text": "*ğŸ“‹ æœ¬æ—¥ã®ã‚¿ã‚¹ã‚¯ä¸€è¦§*\nå„è‡ªã®ã‚¿ã‚¹ã‚¯ã‚’å…±æœ‰ã—ã¾ã—ã‚‡ã†"
                  }
                },
                {
                  "type": "section",
                  "text": {
                    "type": "mrkdwn",
                    "text": "*ğŸŒˆ ä»Šé€±ã®ã‚¹ãƒ—ãƒªãƒ³ãƒˆã‚´ãƒ¼ãƒ«*\nãƒãƒ¼ãƒ ç›®æ¨™ã‚’ç¢ºèª"
                  }
                },
                {
                  "type": "section",
                  "text": {
                    "type": "mrkdwn",
                    "text": "*ğŸ¯ ä»Šæ—¥ã‚„ã‚‹ã“ã¨*\næœ¬æ—¥ã®ä½œæ¥­äºˆå®šã‚’å…±æœ‰"
                  }
                },
                {
                  "type": "section",
                  "text": {
                    "type": "mrkdwn",
                    "text": "*ğŸ’¬ è©°ã¾ã£ã¦ã‚‹ã“ã¨ or ãƒ˜ãƒ«ãƒ—æ¬²ã—ã„ã“ã¨*\nãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã‚„ç›¸è«‡äº‹é …ã‚’å…±æœ‰"
                  }
                },
                {
                  "type": "section",
                  "text": {
                    "type": "mrkdwn",
                    "text": "*âœ… æ˜¨æ—¥ã‚„ã£ãŸã“ã¨*\næ˜¨æ—¥ã®æˆæœã‚’å…±æœ‰"
                  }
                }
              ]
            }'
