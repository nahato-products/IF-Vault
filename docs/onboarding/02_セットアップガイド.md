# セットアップガイド

Obsidian・Git・Claude Code を一通りセットアップする完全版ガイド。

---

## Obsidian って何？

ローカル保存型の Markdown メモアプリ。ファイルは全て `.md` 形式で、テキストエディタでも開ける。ネットなしでも動くし、プラグインでコード実行やタスク管理まで拡張できる。

| ツール | データの場所 | オフライン | プラグイン |
|--------|-------------|-----------|-----------|
| Notion | クラウド | 使えない | 使えない |
| Google Docs | クラウド | 使えない | 使えない |
| **Obsidian** | **ローカル** | **使える** | **使える** |

## なぜ Git で管理するのか

- **自動バックアップ**: 10分ごとに GitHub へ保存。PC が壊れても復元できる
- **チーム共有**: 全員のメモが GitHub 経由で同期される
- **変更履歴**: いつ・誰が・何を変えたか全て残る。過去のバージョンに戻せる
- **マルチデバイス**: 会社の PC と自宅の PC で同じ Vault を使える

```
あなた（PC）
  ↓ 10分ごとに自動保存
GitHub（クラウド）
  ↓ 同期
チームメンバー（閲覧・編集可能）
```

---

## Part 1: Obsidian のセットアップ

### 前提条件

- Mac を使用している
- GitHub アカウントがある（なければ [作成](https://github.com/join)）
- Git がインストール済み（ターミナルで `git --version` を実行して確認）

### 1. Obsidian をインストール

https://obsidian.md/download から Mac 版をダウンロードして、アプリケーションフォルダに入れる。

### 2. SSH 鍵を設定（初回のみ）

既に SSH 鍵がある人はスキップ。

```bash
# 鍵があるか確認
ls ~/.ssh/id_ed25519.pub

# なければ作成（Enter 連打で OK）
ssh-keygen -t ed25519 -C "your-email@example.com"

# 公開鍵をクリップボードにコピー
pbcopy < ~/.ssh/id_ed25519.pub
```

コピーした鍵を GitHub に登録する。

1. https://github.com/settings/keys にアクセス
2. 「New SSH key」をクリック
3. Title に「会社のMac」、Key にペースト（`Cmd + V`）
4. 「Add SSH key」をクリック

### 3. リポジトリをクローン

```bash
cd ~/Documents
git clone git@github.com:nahato-Inc/IF-Vault.git "Obsidian Vault"
cd "Obsidian Vault"
ls
```

### 4. Obsidian で Vault を開く

1. Obsidian を起動
2. 「Open folder as vault」を選択
3. `~/Documents/Obsidian Vault` を選ぶ
4. 設定（歯車アイコン）→ コミュニティプラグイン → 制限モードをオフ → 「オフにする」をクリック

これで全プラグインが有効になる。

### 5. Git の動作確認

```
Cmd + P → 「git」と入力 → "Obsidian Git: Create backup" が表示されれば OK
```

テストとして新規ノートを作って手動コミットしてみる。

1. `Cmd + N` で新規ノート作成
2. タイトルと内容を適当に書く
3. `Cmd + P` → "Git: Commit all changes"
4. https://github.com/nahato-Inc/IF-Vault にファイルが追加されていれば成功

### 6. Git の設定確認

```bash
cd ~/Documents/Obsidian\ Vault

# ユーザー名とメールが設定されているか確認
git config user.name
git config user.email

# 設定されていなければ設定
git config user.name "あなたの名前"
git config user.email "your-email@example.com"
```

Obsidian Git プラグインの設定（既に設定済みだが念のため確認）:

- 自動コミット: 10分ごと
- 自動プル: 10分ごと
- プッシュ前プル: 有効

手動で即座に反映したいときは:

- `Cmd + P` → `Obsidian Git: Commit all changes`
- `Cmd + P` → `Obsidian Git: Push`
- `Cmd + P` → `Obsidian Git: Pull`

### 7. 自分のフォルダを作成

`team/` 配下に自分の名前でフォルダを作る。

```
team/あなたの名前/
├── README.md           ← ダッシュボード
├── daily/              ← デイリーノート
├── projects/           ← プロジェクト管理
├── notes/              ← 技術メモ
└── code-snippets/      ← コードスニペット
```

README.md は `team/guchi/README.md` をコピーして自分用に編集するのが楽。

---

## Part 2: Claude Code のセットアップ

### 1. Claude Code をインストール

```bash
npm install -g @anthropic-ai/claude-code
```

### 2. 認証

```bash
claude auth login
# ブラウザが開くので Anthropic アカウントでログイン
```

### 3. カスタムエージェントのインストール

guchi が作成したセットアップスクリプトを実行する。

```bash
# guchi にスクリプトをもらう、または環境からコピー
cp /Users/sekiguchiyuki/.claude/claude-agents-setup.sh ~/

chmod +x ~/claude-agents-setup.sh
./claude-agents-setup.sh
```

インストールされるエージェント:

| エージェント | 専門分野 | 使用例 |
|---|---|---|
| GAS Expert | Google Apps Script 自動化 | スプシ操作、Gmail 自動化、トリガー設定 |
| Obsidian Automator | Obsidian 最適化 | フォルダ構造整理、テンプレート作成、プラグイン設定 |
| Database Analyzer | データベース分析 | ER図作成、テーブル設計レビュー、インデックス戦略 |
| Team Collaborator | チーム協働支援 | タスク調整、ナレッジ共有、ドキュメント作成 |

### 4. 動作確認

```bash
# Claude Code を起動
claude

# エージェント一覧を確認
~/.claude/scripts/use-agent.sh

# 特定のエージェントの詳細
~/.claude/scripts/use-agent.sh gas-expert
```

---

## インストール済みプラグイン

Vault には以下の10個のプラグインが入っている。全て有効化済み。

### 基本機能
| プラグイン | 用途 |
|---|---|
| Obsidian Git | 10分ごとの自動バックアップと同期 |
| Dataview | SQL ライクなクエリでノート検索・集計 |
| Templater | デイリーノート・会議メモなどのテンプレート |
| Calendar | カレンダー表示とデイリーノートの作成 |
| Kanban | タスク管理のカンバンボード |
| Advanced Tables | Markdown テーブルの自動整形 |

### エンジニア向け
| プラグイン | 用途 |
|---|---|
| Execute Code | Python・JavaScript などのコード実行 |
| Editor Syntax Highlight | コードのシンタックスハイライト |
| Code Emitter | Jupyter Notebook 風のコード実行環境 |
| Format Code | Prettier を使ったコード自動整形 |

---

## セットアップ完了チェックリスト

- [ ] Obsidian がインストールされている
- [ ] リポジトリがクローンされている
- [ ] Obsidian でリポジトリを開いている
- [ ] コミュニティプラグインが有効化されている
- [ ] `Cmd + P` → 「Git」でコマンドが表示される
- [ ] テストノートを作成して GitHub にコミットできた
- [ ] `team/` 配下に自分のフォルダを作成した
- [ ] README.md を作成した
- [ ] デイリーノートを作成できた
- [ ] Claude Code がインストールされている（任意）

全てチェックできたらセットアップ完了。

---

_Tags: #onboarding #setup #git #claude-code_
