---
name: fill-external-minutes
description: "Generate client-facing external meeting minutes by aggregating four sources: internal Notion minutes, email threads, calendar events, and Google Drive documents. Filter confidential content, transform format for external sharing, and auto-create Notion external minutes page. Use when creating client-facing minutes, converting internal minutes for external sharing, preparing partner meeting documentation, or aggregating multi-source meeting records for stakeholders. Do not trigger for internal minutes creation (use create-minutes) or audio transcription (use transcribe-to-minutes). Invoke with /fill-external-minutes."
user-invocable: true
triggers:
  - 社外向け議事録を作る
  - 外部共有用の議事録
  - /fill-external-minutes
  - クライアント向け議事録を整形する
  - 内部議事録から社外版を作成
---

# fill-external-minutes

複数ソースから情報を集約し、外部共有向けに整形した議事録を作成する複合スキル。

## パイプライン

```
4ソース集約 → 機密フィルタ → 外部向け変換 → create-minutes(外部テンプレ) → プレビュー確認 → Notion作成
```

## 4つの情報ソース

### 1. 内部議事録（Notion）
既存の内部MTG議事録から議論内容・決定事項を取得。

```
notion_search → notion_get_page_content
→ 議題、決定事項、TODOを抽出
```

### 2. メールスレッド（Gmail）
MTG前後のメールやりとりから補足情報を収集。

```bash
gog gmail search "subject:プロジェクトAlpha from:client@example.com newer_than:7d" --json
→ 事前共有資料、追加要件、フォローアップ内容を抽出
```

### 3. カレンダー情報（Google Calendar）
MTGの正式な日時・参加者・アジェンダを取得。

```bash
gog calendar event <calendarId> <eventId> --json
→ 日時、参加者リスト、説明文（アジェンダ）を抽出
```

### 4. 共有資料（Google Drive）
MTG中に言及された資料のリンクを収集。

```bash
gog drive search "プロジェクトAlpha 提案書" --json
→ 資料名、URL、最終更新日を抽出
```

## 実行フロー

### Step 1: ソース情報の収集

ユーザーから以下を確認:
- 対象MTG（内部議事録のNotionページID or MTG名）
- クライアント名 / 外部先名
- カレンダーイベントID（任意）
- 関連メール検索キーワード（任意）

4ソースを並列で取得し、`/tmp/claude/` に中間ファイルとして保存。

### Step 2: 機密フィルタリング

内部議事録から外部共有に不適切な内容を、以下の **3段階ルール** で除去する。上から順に適用し、該当した時点でその行の処理は確定する。

#### Level 1: 自動除去（無条件）

以下のマーカーが付いている行は **無条件で除去** する:

- `(内部)`
- `※社内用`
- `※内部用`
- `MEMO:`
- `メモ:`

#### Level 2: キーワード除去

以下のキーワードを含む文を除去する:

| カテゴリ | キーワード |
|---------|-----------|
| コスト系 | コスト、予算、利益率、人件費、稟議、原価、マージン、見積金額 |
| 内部評価系 | イマイチ、微妙、交渉余地、落としどころ、妥協、本音 |
| 社内プロセス系 | 上長、承認待ち、部署間、社内調整、根回し |
| 未確定系 | 検討中、仮で、たぶん、おそらく、未定、TBD、要相談 |

#### Level 3: 要確認（ユーザー判断）

Level 1・2 に該当しないが、主語が内部的な表現を含む場合は `[要確認]` マークを付与してユーザー判断に委ねる:

- 「うちの」「うちで」「チームで」「社内で」

例: `[要確認] うちのチームで来週対応する予定`

**フィルタ方針**: Level 1・2 は自動除去。Level 3 はユーザーが最終判断。外部向けは「決まったこと」と「次のアクション」に絞る。

### Step 3: 外部向け変換

内部表現→外部表現の変換は、以下のルールを **上から順に適用** する。変換した箇所には `[変換済]` マークを付与し、Step 5 でユーザーがレビューできるようにする。

#### 変換ルール

| # | 内部表現パターン | 外部表現への変換 | 例 |
|---|----------------|-----------------|-----|
| 1 | 社内担当者の個人名 | 「弊社 ○○」or「弊社にて」 | 「田中が対応」→「弊社 田中にて対応いたします」 |
| 2 | 「クライアント」「先方」「あちら」 | 「○○様」（正式社名） | 「先方に確認」→「○○様にご確認」 |
| 3 | カジュアルな期限表現 | 具体的な日付（曜日付き） | 「来週中に送る」→「1/24(金)までにお送りします」 |
| 4 | 内部判断の経緯 | 結論のみ（経緯は除外） | 「議論の結果○○に決定」→「○○の方針で進めます」 |
| 5 | 受動的・消極的な表現 | 能動的・前向きな表現 | 「要望を受け入れた」→「ご要望を踏まえ、○○で進めます」 |
| 6 | 未確定だが共有すべき事項 | 次回アクションとして記載 | 「まだ決まってない」→「次回MTGにて確定予定です」 |
| 7 | 口語・略語 | 正式な表現 | 「MTG」→「打ち合わせ」（文中）、「やる」→「実施する」 |

**文体**: です・ます調、敬語、曖昧表現の排除、具体的な日付指定

### Step 4: 外部議事録テンプレート作成

`create-minutes` スキルで外部テンプレートを作成し、変換済みの内容を流し込む。

```markdown
📋 [日付] [MTG名] 議事録

基本情報:
- 日時: 2025-01-20 14:00〜15:00
- 場所: Google Meet
- 出席者:
  - [弊社] 関口, 田中
  - [○○様] 山田様, 鈴木様

議題と決定事項:

## 1. Q1ロードマップの確認
概要: Q1の開発スケジュールについて確認いたしました。
決定事項: 2月末までにβ版をリリースする方針で進めます。
備考: 詳細スケジュールは別途共有いたします。

## 2. 追加機能のご要望について
概要: ○○機能の追加についてご相談いただきました。
決定事項: 技術調査を実施し、次回MTGで実現可否をご報告します。

Next Steps:
| # | アクション | 担当 | 期限 |
|---|-----------|------|------|
| 1 | β版スケジュール共有 | 弊社 関口 | 1/24(金) |
| 2 | ○○機能 技術調査 | 弊社 田中 | 1/31(金) |
| 3 | テスト環境準備 | ○○様 鈴木様 | 2/7(金) |

次回MTG:
- 日時: 2025-02-03(月) 14:00〜
- 議題候補: β版デモ、○○機能調査結果
```

### Step 5: プレビュー表示

Notion に作成する **前に**、フィルタ・変換結果をユーザーに表示して最終確認を行う。

#### 表示内容

1. **除去された項目一覧**: Step 2 で Level 1・2 により自動除去された内容のサマリー（何件除去したか + 代表例）
2. **`[要確認]` マーク箇所**: Step 2 Level 3 で付与された項目を一覧表示。ユーザーが「残す / 除外」を判断
3. **`[変換済]` マーク箇所**: Step 3 で変換された箇所を Before / After で並べて表示。ユーザーが変換内容を確認・修正
4. **完成プレビュー**: 上記の確認を反映した最終版の議事録全文

#### ユーザーアクション

- `[要確認]` 項目 → 「残す」「除外する」「文言修正して残す」のいずれかを選択
- `[変換済]` 項目 → 「OK」「修正する」のいずれかを選択
- 全体確認後 → 「このまま作成」で Notion 作成に進む

確認完了後、`[要確認]` `[変換済]` マークを除去してクリーンな状態で Notion ページを作成する。

## 使い方

```
/fill-external-minutes

必要な情報:
1. 内部議事録のNotionページID（or MTG名で検索）
2. クライアント/外部先名
3. Notion配置先（親ページID）
4. （任意）カレンダーイベントID
5. （任意）追加のメール検索条件
```

## 依存スキル

| スキル | 役割 |
|--------|------|
| `create-minutes` | 外部テンプレート作成 |
| `gog-gmail` | メール情報収集 |
| `gog-calendar` | カレンダー情報取得 |
| `gog-drive` | 共有資料リンク収集 |

## 注意事項

- **必ずユーザーに最終確認させる**: 自動フィルタだけでは機密漏れの可能性あり
- 外部共有前にプレビュー表示してレビューを促す
- 「自信なし」の変換箇所には `[要確認]` マークをつける
- 元の内部議事録は変更しない（外部用は別ページとして作成）

## Cross-references

- **create-minutes**: 元となる内部議事録テンプレートの作成
- **share-minutes**: 外部議事録の PDF 化とメール配信
- **gog-gmail**: メールスレッドからの補足情報収集・添付送信
- **gog-drive**: 共有資料の検索・Drive へのアップロード
