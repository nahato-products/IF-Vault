# UX for App Development — Reference

SKILL.md の補足資料。実装ガイド、アンチパターン、チェックリスト、参考文献。

---

## フォーム設計

- ラベルはフィールドの上（左配置より完了率が高い）
- プレースホルダーをラベル代わりにしない（入力後に消える）
- 必須マークは`*`よりも任意項目に「任意」と表記する方が良い
- バリデーションはリアルタイム（送信後の一括表示は避ける）→ H5 エラー防止
- エラーメッセージは該当フィールドの直下に赤+アイコンで表示
- 成功状態も視覚フィードバック（緑のチェックマーク）
- 入力タイプを正しく設定（`type="email"`, `type="tel"`, `inputmode="numeric"`）
- オートフィル対応: `autocomplete`属性を正しく設定
- 長いフォームはステップ分割、進捗表示付き → #19 ゴール勾配効果
- 入力の寛容性 → #13 ポステルの法則

---

## レスポンシブとモバイル

- タップターゲット: 44x44px以上、間隔8px以上 → #22 フィッツの法則
- 親指ゾーン: 主要操作は画面下部に配置（片手操作）
- ハンバーガーメニューは最終手段: 主要ナビは常に表示
- 横スクロールは避ける（テーブルは横スクロール可）
- フォントサイズ: 本文16px以上（ピンチズーム不要に）
- ビューポート設定: `<meta name="viewport" content="width=device-width, initial-scale=1">`
- タッチフィードバック: タップ時に視覚的反応（`:active`状態）

---

## 色とタイポグラフィ

### 色の実装ルール

| 用途 | 色 | 備考 |
|---|---|---|
| 成功・完了 | 緑系 | |
| エラー・破壊的操作 | 赤系 | 色だけに頼らずアイコン併用 |
| 警告 | オレンジ/黄系 | |
| 情報・リンク | 青系 | |
| 無効・非活性 | グレー系 | |

- 色数は3色以内（ブランドカラー、アクセント、ニュートラル）
- 文化差に注意: 日本では赤=おめでたい意味もある。グローバル展開時はセマンティックカラー（成功=緑、エラー=赤）を基本にしつつ、装飾色は文化圏に合わせて検証する

### タイポグラフィ

- フォントファミリーは2種類まで（見出し用＋本文用）
- 行間 (line-height): 本文は1.5〜1.75、見出しは1.2〜1.3
- 行の長さ: 60〜80文字（日本語は25〜40文字）が最適
- フォントサイズのスケール: 1.25倍比（16, 20, 25, 31...）
- ウェイト: Regular(400), Medium(500), Bold(700) の3段階で十分

---

## アンチパターン集

レビュー時に以下を見つけたら即修正。

### ダークパターン（倫理的にNG）
- **ローチモーテル**: 登録は簡単なのに退会が極端に困難
- **こっそりカゴ入れ**: ユーザーが選んでいないものをカートに追加
- **羞恥確認**: 「いいえ、お金を節約したくありません」のような罪悪感を煽る選択肢
- **強制開示**: サービスに不要な個人情報の入力を強制
- **視覚的ミスディレクション**: 解約ボタンをグレーアウトや極小フォントで隠す

### AIアンチパターン
- **ハルシネーション隠蔽**: AIの誤出力を検証なしにそのまま表示 → #29 透明性で対策
- **AI強制**: 手動操作の選択肢がなくAI利用を強制 → #30 制御で対策
- **ブラックボックス**: なぜその結果になったか説明なし → ユーザーの信頼を失う

### 実装アンチパターン
- **ミステリーナビ**: アイコンだけでラベルなし → H6 再認 > 記憶
- **無限スクロールの罠**: フッター情報にたどり着けない → ページネーションかスティッキーフッター
- **モーダル地獄**: モーダルの上にモーダル → 同時に1つまで
- **自動再生**: 音声付き動画の自動再生 → #11 リアクタンス
- **ズーム無効化**: `user-scalable=no` → アクセシビリティ違反
- **プレースホルダー依存**: ラベル代わりのプレースホルダー → 入力開始で消えて迷う
- **赤一色のエラー**: 色だけでエラー伝達 → 色覚多様性に対応できない
- **確認ダイアログ乱発**: 全操作に「よろしいですか？」→ 不可逆操作だけに絞る
- **disabled送信ボタン**: なぜ押せないか理由が不明 → バリデーションエラーをインラインで明示
- **水平スクロール**: モバイルで横にはみ出るレイアウト

---

## 実装チェックリスト

### 情報設計
- [ ] 1画面の選択肢は5個以内か
- [ ] 段階的開示を使えるか
- [ ] 視覚的階層は明確か

### フィードバック
- [ ] 応答は400ms以内か（超える場合はスケルトンUI）
- [ ] エラーメッセージは具体的で回復可能か
- [ ] Undo/やり直しが可能か
- [ ] 状態遷移（ローディング→成功/エラー→空状態）は全て設計されているか

### フォーム
- [ ] ラベルはフィールドの上か
- [ ] バリデーションはリアルタイムか
- [ ] 入力の寛容性（全角半角、ハイフン有無）は確保されているか
- [ ] デフォルト値はユーザーに最適か

### モバイル
- [ ] タップターゲットは44x44px以上か
- [ ] 親指ゾーンに主要操作があるか
- [ ] フォントサイズは16px以上か

### アクセシビリティ
- [ ] キーボードだけで全操作できるか
- [ ] スクリーンリーダーで意味が伝わるか
- [ ] `prefers-reduced-motion`に対応しているか
- [ ] エラーは色+アイコン+テキストで伝えているか
- [ ] ニューロダイバーシティ: テキスト左揃え、行間1.5以上、通知最小限か

### AI UX
- [ ] AI出力に「AIが生成」のラベルがあるか
- [ ] AI提案を手動で上書き・却下できるか
- [ ] AI失敗時の手動フォールバックがあるか

### 安全性
- [ ] 破壊的操作に確認ステップがあるか
- [ ] ダークパターンになっていないか

---

## 参考文献

- Miller, G.A. (1956). "The Magical Number Seven, Plus or Minus Two"
- Cowan, N. (2001). "The Magical Number 4 in Short-term Memory"
- Schwartz, B. (2004). *The Paradox of Choice*
- Nielsen, J. (1994). "10 Usability Heuristics for User Interface Design"
- Norman, D. (2013). *The Design of Everyday Things*
- Krug, S. (2014). *Don't Make Me Think*
- Fitts, P.M. (1954). "The Information Capacity of the Human Motor System"
- Doherty, W.J. & Kelisky, R.P. (1979). "Managing VM/370 for User Effectiveness"
- Buell, R. & Norton, M. (2011). "The Labor Illusion"
- W3C (2023). "Web Content Accessibility Guidelines (WCAG) 2.2"
- NN/g (2026). "State of UX 2026: Design Deeper to Differentiate"
- Laws of UX — https://lawsofux.com
