---
name: qiita-topics-from-slack
description: Slackの特定チャンネルから記事ネタになりそうなトピックを探索します
args:
  - name: channel_name
    description: 探索するSlackチャンネル名（省略可。省略時はチャンネル一覧から選択）
    required: false
  - name: days
    description: 過去何日分のメッセージを探索するか（デフォルト: 7日）
    required: false
---

# Slack記事ネタ探索

Slackの会話から、Qiita記事になりそうな技術的なトピックを自動で発見します。

## 実行手順

### 1. チャンネルの選択

**引数でchannel_nameが指定されている場合:**
- そのチャンネルを検索して探索します

**引数でchannel_nameが指定されていない場合:**
- ツール `mcp__claude_ai_Slack__slack_search_channels` でチャンネル一覧を取得
- 技術的な話題がありそうなチャンネル（例: engineering, dev, tech, random など）を候補として提示
- AskUserQuestionで選択してもらいます

### 2. 探索期間の設定

- 引数 `days` で指定された日数分（デフォルト7日）を探索
- 現在の日時から過去N日分のUnixタイムスタンプを計算

### 3. メッセージの取得と分析

以下の観点で、記事ネタになりそうなメッセージを探します：

**探索キーワード（これらを含む会話を優先）:**
- 技術用語: "API", "バグ", "エラー", "実装", "デプロイ", "パフォーマンス"
- 学習関連: "勉強会", "学んだ", "調べた", "試した", "ハマった"
- 問題解決: "解決", "直した", "修正", "対処", "workaround"
- 新技術: "新しい", "面白い", "便利", "使ってみた"
- イベント: "参加した", "登壇", "LT", "meetup", "カンファレンス"

**探索方法:**
1. `mcp__claude_ai_Slack__slack_search_public_and_private` を使用して、上記キーワードで検索
2. 各キーワードで複数回検索し、幅広くトピックを収集
3. 検索クエリ例:
   - `"ハマった in:#dev after:2026-02-10"`
   - `"勉強会 in:#random after:2026-02-10"`
   - `"解決 has:thread in:#engineering after:2026-02-10"`

**優先度が高いメッセージ:**
- スレッドがあるもの（`is:thread`）= 議論が活発
- リアクションが多いもの（`has::emoji:`）= 共感されている
- リンクがあるもの（`has:link`）= 参考資料がある
- コードブロックがあるもの = 技術的な内容

### 4. トピック候補の抽出

見つかったメッセージから、記事ネタとして有望なトピックを3-5個抽出します。

**各トピック候補に含める情報:**
```markdown
## トピック候補 1: [トピックタイトル]

**元の会話:**
- チャンネル: #dev
- 投稿者: @user_name
- 日時: 2026-02-15 10:30
- リアクション: 👍 5個, 🔥 3個
- スレッド: 12件の返信

**会話の要約:**
[会話の内容を2-3文で要約]

**記事ネタとしての魅力:**
- [なぜこのトピックが記事になりそうか]
- [読者にどんな価値を提供できるか]
- [ユニークな視点やオリジナリティは何か]

**記事の方向性案:**
1. トラブルシューティング記事（問題と解決方法）
2. 実装ガイド（手順を丁寧に説明）
3. 学習記録（学んだことをまとめる）
4. イベントレポート（参加した感想と学び）

**Slack会話へのリンク:**
[Slackのパーマリンク]
```

### 5. トピック候補の提示

以下の形式でユーザーに提示:

```
# 📚 Slack記事ネタ候補 (過去7日分)

探索チャンネル: #dev, #random
期間: 2026-02-10 〜 2026-02-17
見つかったトピック: 5個

---

## 🔥 トピック候補 1: Next.jsのサーバーコンポーネントでハマった話
...

## 💡 トピック候補 2: 統計勉強会で学んだベイズ推定
...

---

## 次のステップ

興味のあるトピックが見つかりましたか？
1. `/qiita-draft [トピック名]` でそのトピックの記事を書き始める
2. Slackの会話を読み直して、詳細を確認する
3. 別のチャンネルも探索する → `/qiita-topics-from-slack [チャンネル名]`
```

AskUserQuestionで、どのトピックで記事を書くか、または別のチャンネルを探索するか確認します。

### 6. 選択されたトピックで記事を書く

ユーザーが特定のトピックを選択した場合:
- そのトピックのSlack会話を `mcp__claude_ai_Slack__slack_read_thread` で詳しく読み込む
- 会話の内容をメモとして `11_Qiita/drafts/` に保存
- `/qiita-draft` を実行して記事執筆を開始することを提案

## 検索戦略

### 効果的な検索クエリ例

**トラブルシューティング系:**
```
"ハマった" OR "困った" OR "エラー" in:#dev after:YYYY-MM-DD
```

**学習・勉強系:**
```
"学んだ" OR "勉強会" OR "調べた" in:#random after:YYYY-MM-DD
```

**実装・開発系:**
```
"実装した" OR "試した" OR "使ってみた" in:#engineering has:link after:YYYY-MM-DD
```

**イベント系:**
```
"参加した" OR "登壇" OR "meetup" after:YYYY-MM-DD
```

### 検索の工夫

1. **複数の検索を組み合わせる**
   - 1つのキーワードで検索するより、複数のキーワードで小さく検索
   - OR検索はサポートされていないので、複数回検索して結果をマージ

2. **スレッドとリアクションを重視**
   - `is:thread` で議論が活発な会話を優先
   - `has::thumbsup:` などでリアクションがある投稿を優先

3. **日付範囲を調整**
   - デフォルトは7日だが、必要に応じて調整
   - `after:YYYY-MM-DD` と `before:YYYY-MM-DD` を使い分け

## 注意事項

- **プライバシー尊重:** 個人的なDMやプライベートチャンネルの内容を記事にする場合は、本人の許可を得ること
- **会話の文脈を理解:** メッセージ単体ではなく、スレッド全体を読んで文脈を把握
- **オリジナリティの確保:** Slackの会話をそのまま転載するのではなく、あなたの視点で再構成
- **複数チャンネルを探索:** 1つのチャンネルだけでなく、複数のチャンネルを見ると良いネタが見つかる

## 完了メッセージ

```
✅ Slack記事ネタ探索が完了しました！

📊 結果:
- 探索チャンネル: #dev, #random
- 期間: 過去7日分
- 見つかったトピック: 5個

次のステップ:
1. 気になるトピックで `/qiita-draft [トピック名]` を実行
2. Slackの会話を読み直して、詳細を確認
3. 別のチャンネルも探索 → `/qiita-topics-from-slack [チャンネル名]`

記事執筆、頑張ってください！ 🚀
```
